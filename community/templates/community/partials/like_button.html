{# community/templates/community/partials/like_button.html #}
{% load static %}
{% load humanize %} {# لتحويل الأرقام الكبيرة إلى تنسيق سهل القراءة مثل 1K, 1M #}

<span id="{{ 'post-likes-' if is_post else 'comment-likes-' }}{{ object_id }}">
    <button 
        hx-post="{% url 'community:like_toggle' content_type_id=content_type_id object_id=object_id %}"
        hx-target="#{{ 'post-likes-' if is_post else 'comment-likes-' }}{{ object_id }}"
        hx-swap="outerHTML"
        class="text-gray-600 hover:text-red-500 transition duration-200 focus:outline-none"
        title="{% if user_has_liked %}إلغاء الإعجاب{% else %}إعجاب{% endif %}"
    >
        {% if user_has_liked %}
            <i class="fas fa-heart text-red-500"></i>
        {% else %}
            <i class="far fa-heart"></i>
        {% endif %}
    </button>
    <span class="text-sm text-gray-500 mr-1 rtl:mr-0 rtl:ml-1">{{ likes_count|intcomma }}</span>
</span>
